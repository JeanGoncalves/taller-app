
<section>

  <div class="my-request box-content">
    <h1>Meus pedidos</h1>
    <h2>Lista dos itens no pedido da empresa</h2>

    <div class="filter">
      <label for="cnpj">CNPJ</label>
      <!-- <input type="text" name="cnpj"> -->
      <select [(ngModel)]="enterprise">
        <option *ngFor="let enterprise of enterprises" [ngValue]="enterprise">{{ enterprise.name }}</option>
      </select>

      <label for="request">Pedido</label>
      <input type="text" name="request">

      <button class="btn btn-small" type="button" name="filter">Filtrar</button>
    </div>

    <div *ngIf="enterprise">
      <h2>Empresa {{ enterprise.name }}</h2>

      <div class="table-content">
        <table cellspacing="0" cellpadding="0">
          <thead>
            <tr>
              <th>CÃ³digo do Pedido</th>
              <th>Itens do Pedido</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let request of enterprise.request">
              <td align="center">{{ request.id }}</td>
              <td>
                <span *ngFor="let product of request.products">{{ product.quantity }}x {{ product.name }}<br /></span>
              </td>
              <td align="center">
                <button class="btn btn-link" (click)="cancelRequest(request)">Cancelar</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </div>
  
</section>